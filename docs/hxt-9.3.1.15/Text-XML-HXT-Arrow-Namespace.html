<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Text.XML.HXT.Arrow.Namespace</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Text-XML-HXT-Arrow-Namespace.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Text-XML-HXT-Arrow-Namespace.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">hxt-9.3.1.15: A collection of tools for processing XML with Haskell.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>Copyright (C) 2005-2008 Uwe Schmidt</td></tr><tr><th>License</th><td>MIT</td></tr><tr><th>Maintainer</th><td>Uwe Schmidt (uwe@fh-wedel.de)</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>portable</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">Text.XML.HXT.Arrow.Namespace</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>namespace specific arrows</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:attachNsEnv">attachNsEnv</a> :: <a href="Text-XML-HXT-Arrow-XmlArrow.html#t:ArrowXml">ArrowXml</a> a =&gt; <a href="Text-XML-HXT-DOM-QualifiedName.html#t:NsEnv">NsEnv</a> -&gt; a <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a></li><li class="src short"><a href="#v:cleanupNamespaces">cleanupNamespaces</a> :: <a href="Control-Arrow-ListArrow.html#t:LA">LA</a> <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> (<a href="../base-4.8.2.0/Data-String.html#t:String">String</a>, <a href="../base-4.8.2.0/Data-String.html#t:String">String</a>) -&gt; <a href="Control-Arrow-ListArrow.html#t:LA">LA</a> <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a></li><li class="src short"><a href="#v:collectNamespaceDecl">collectNamespaceDecl</a> :: <a href="Control-Arrow-ListArrow.html#t:LA">LA</a> <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> (<a href="../base-4.8.2.0/Data-String.html#t:String">String</a>, <a href="../base-4.8.2.0/Data-String.html#t:String">String</a>)</li><li class="src short"><a href="#v:collectPrefixUriPairs">collectPrefixUriPairs</a> :: <a href="Control-Arrow-ListArrow.html#t:LA">LA</a> <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> (<a href="../base-4.8.2.0/Data-String.html#t:String">String</a>, <a href="../base-4.8.2.0/Data-String.html#t:String">String</a>)</li><li class="src short"><a href="#v:isNamespaceDeclAttr">isNamespaceDeclAttr</a> :: <a href="Text-XML-HXT-Arrow-XmlArrow.html#t:ArrowXml">ArrowXml</a> a =&gt; a <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a></li><li class="src short"><a href="#v:getNamespaceDecl">getNamespaceDecl</a> :: <a href="Text-XML-HXT-Arrow-XmlArrow.html#t:ArrowXml">ArrowXml</a> a =&gt; a <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> (<a href="../base-4.8.2.0/Data-String.html#t:String">String</a>, <a href="../base-4.8.2.0/Data-String.html#t:String">String</a>)</li><li class="src short"><a href="#v:processWithNsEnv">processWithNsEnv</a> :: <a href="Text-XML-HXT-Arrow-XmlArrow.html#t:ArrowXml">ArrowXml</a> a =&gt; (<a href="Text-XML-HXT-DOM-QualifiedName.html#t:NsEnv">NsEnv</a> -&gt; a <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a>) -&gt; <a href="Text-XML-HXT-DOM-QualifiedName.html#t:NsEnv">NsEnv</a> -&gt; a <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a></li><li class="src short"><a href="#v:processWithNsEnvWithoutAttrl">processWithNsEnvWithoutAttrl</a> :: <a href="Text-XML-HXT-Arrow-XmlArrow.html#t:ArrowXml">ArrowXml</a> a =&gt; (<a href="Text-XML-HXT-DOM-QualifiedName.html#t:NsEnv">NsEnv</a> -&gt; a <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a>) -&gt; <a href="Text-XML-HXT-DOM-QualifiedName.html#t:NsEnv">NsEnv</a> -&gt; a <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a></li><li class="src short"><a href="#v:propagateNamespaces">propagateNamespaces</a> :: <a href="Text-XML-HXT-Arrow-XmlArrow.html#t:ArrowXml">ArrowXml</a> a =&gt; a <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a></li><li class="src short"><a href="#v:uniqueNamespaces">uniqueNamespaces</a> :: <a href="Text-XML-HXT-Arrow-XmlArrow.html#t:ArrowXml">ArrowXml</a> a =&gt; a <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a></li><li class="src short"><a href="#v:uniqueNamespacesFromDeclAndQNames">uniqueNamespacesFromDeclAndQNames</a> :: <a href="Text-XML-HXT-Arrow-XmlArrow.html#t:ArrowXml">ArrowXml</a> a =&gt; a <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a></li><li class="src short"><a href="#v:validateNamespaces">validateNamespaces</a> :: <a href="Text-XML-HXT-Arrow-XmlArrow.html#t:ArrowXml">ArrowXml</a> a =&gt; a <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a></li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a name="v:attachNsEnv" class="def">attachNsEnv</a> :: <a href="Text-XML-HXT-Arrow-XmlArrow.html#t:ArrowXml">ArrowXml</a> a =&gt; <a href="Text-XML-HXT-DOM-QualifiedName.html#t:NsEnv">NsEnv</a> -&gt; a <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="src/Text-XML-HXT-Arrow-Namespace.html#attachNsEnv" class="link">Source</a></p><div class="doc"><p>attach all valid namespace declarations to the attribute list of element nodes.</p><p>This arrow is useful for document processing, that requires access to all namespace
 declarations at any element node, but which cannot be done with a simple <code><a href="Text-XML-HXT-Arrow-Namespace.html#v:processWithNsEnv">processWithNsEnv</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:cleanupNamespaces" class="def">cleanupNamespaces</a> :: <a href="Control-Arrow-ListArrow.html#t:LA">LA</a> <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> (<a href="../base-4.8.2.0/Data-String.html#t:String">String</a>, <a href="../base-4.8.2.0/Data-String.html#t:String">String</a>) -&gt; <a href="Control-Arrow-ListArrow.html#t:LA">LA</a> <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="src/Text-XML-HXT-Arrow-Namespace.html#cleanupNamespaces" class="link">Source</a></p><div class="doc"><p>does the real work for namespace cleanup.</p><p>The parameter is used for collecting namespace uris and prefixes from the input tree</p></div></div><div class="top"><p class="src"><a name="v:collectNamespaceDecl" class="def">collectNamespaceDecl</a> :: <a href="Control-Arrow-ListArrow.html#t:LA">LA</a> <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> (<a href="../base-4.8.2.0/Data-String.html#t:String">String</a>, <a href="../base-4.8.2.0/Data-String.html#t:String">String</a>) <a href="src/Text-XML-HXT-Arrow-Namespace.html#collectNamespaceDecl" class="link">Source</a></p><div class="doc"><p>collect all namespace declarations contained in a document</p><p>apply <code><a href="Text-XML-HXT-Arrow-Namespace.html#v:getNamespaceDecl">getNamespaceDecl</a></code> to a whole XmlTree</p></div></div><div class="top"><p class="src"><a name="v:collectPrefixUriPairs" class="def">collectPrefixUriPairs</a> :: <a href="Control-Arrow-ListArrow.html#t:LA">LA</a> <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> (<a href="../base-4.8.2.0/Data-String.html#t:String">String</a>, <a href="../base-4.8.2.0/Data-String.html#t:String">String</a>) <a href="src/Text-XML-HXT-Arrow-Namespace.html#collectPrefixUriPairs" class="link">Source</a></p><div class="doc"><p>collect all (namePrefix, namespaceUri) pairs from a tree</p><p>all qualified names are inspected, whether a namespace uri is defined,
 for these uris the prefix and uri is returned. This arrow is useful for
 namespace cleanup, e.g. for documents generated with XSLT. It can be used
 together with <code><a href="Text-XML-HXT-Arrow-Namespace.html#v:collectNamespaceDecl">collectNamespaceDecl</a></code> to <code><a href="Text-XML-HXT-Arrow-Namespace.html#v:cleanupNamespaces">cleanupNamespaces</a></code></p></div></div><div class="top"><p class="src"><a name="v:isNamespaceDeclAttr" class="def">isNamespaceDeclAttr</a> :: <a href="Text-XML-HXT-Arrow-XmlArrow.html#t:ArrowXml">ArrowXml</a> a =&gt; a <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="src/Text-XML-HXT-Arrow-Namespace.html#isNamespaceDeclAttr" class="link">Source</a></p><div class="doc"><p>test whether an attribute node contains an XML Namespace declaration</p></div></div><div class="top"><p class="src"><a name="v:getNamespaceDecl" class="def">getNamespaceDecl</a> :: <a href="Text-XML-HXT-Arrow-XmlArrow.html#t:ArrowXml">ArrowXml</a> a =&gt; a <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> (<a href="../base-4.8.2.0/Data-String.html#t:String">String</a>, <a href="../base-4.8.2.0/Data-String.html#t:String">String</a>) <a href="src/Text-XML-HXT-Arrow-Namespace.html#getNamespaceDecl" class="link">Source</a></p><div class="doc"><p>get the namespace prefix and the namespace URI out of
 an attribute tree with a namespace declaration (see <code><a href="Text-XML-HXT-Arrow-Namespace.html#v:isNamespaceDeclAttr">isNamespaceDeclAttr</a></code>)
 for all other nodes this arrow fails</p></div></div><div class="top"><p class="src"><a name="v:processWithNsEnv" class="def">processWithNsEnv</a> :: <a href="Text-XML-HXT-Arrow-XmlArrow.html#t:ArrowXml">ArrowXml</a> a =&gt; (<a href="Text-XML-HXT-DOM-QualifiedName.html#t:NsEnv">NsEnv</a> -&gt; a <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a>) -&gt; <a href="Text-XML-HXT-DOM-QualifiedName.html#t:NsEnv">NsEnv</a> -&gt; a <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="src/Text-XML-HXT-Arrow-Namespace.html#processWithNsEnv" class="link">Source</a></p><div class="doc"><p>process a document tree with an arrow, containing always the
 valid namespace environment as extra parameter.</p><p>The namespace environment is implemented as a <code><a href="Data-AssocList.html#v:AssocList">AssocList</a></code></p></div></div><div class="top"><p class="src"><a name="v:processWithNsEnvWithoutAttrl" class="def">processWithNsEnvWithoutAttrl</a> :: <a href="Text-XML-HXT-Arrow-XmlArrow.html#t:ArrowXml">ArrowXml</a> a =&gt; (<a href="Text-XML-HXT-DOM-QualifiedName.html#t:NsEnv">NsEnv</a> -&gt; a <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a>) -&gt; <a href="Text-XML-HXT-DOM-QualifiedName.html#t:NsEnv">NsEnv</a> -&gt; a <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="src/Text-XML-HXT-Arrow-Namespace.html#processWithNsEnvWithoutAttrl" class="link">Source</a></p><div class="doc"><p>process all element nodes of a document tree with an arrow, containing always the
 valid namespace environment as extra parameter. Attribute lists are not processed.</p><p>See also: <code><a href="Text-XML-HXT-Arrow-Namespace.html#v:processWithNsEnv">processWithNsEnv</a></code></p></div></div><div class="top"><p class="src"><a name="v:propagateNamespaces" class="def">propagateNamespaces</a> :: <a href="Text-XML-HXT-Arrow-XmlArrow.html#t:ArrowXml">ArrowXml</a> a =&gt; a <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="src/Text-XML-HXT-Arrow-Namespace.html#propagateNamespaces" class="link">Source</a></p><div class="doc"><p>propagate all namespace declarations &quot;xmlns:ns=...&quot; to all element and attribute nodes of a document.</p><p>This arrow does not check for illegal use of namespaces.
 The real work is done by <code>propagateNamespaceEnv</code>.</p><p>The arrow may be applied repeatedly if neccessary.</p></div></div><div class="top"><p class="src"><a name="v:uniqueNamespaces" class="def">uniqueNamespaces</a> :: <a href="Text-XML-HXT-Arrow-XmlArrow.html#t:ArrowXml">ArrowXml</a> a =&gt; a <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="src/Text-XML-HXT-Arrow-Namespace.html#uniqueNamespaces" class="link">Source</a></p><div class="doc"><p>generate unique namespaces and add all namespace declarations to all top nodes containing a namespace declaration
 Usually the top node containing namespace declarations is the root node, but this isn't mandatory.</p><p>Calls <code><a href="Text-XML-HXT-Arrow-Namespace.html#v:cleanupNamespaces">cleanupNamespaces</a></code> with <code><a href="Text-XML-HXT-Arrow-Namespace.html#v:collectNamespaceDecl">collectNamespaceDecl</a></code></p></div></div><div class="top"><p class="src"><a name="v:uniqueNamespacesFromDeclAndQNames" class="def">uniqueNamespacesFromDeclAndQNames</a> :: <a href="Text-XML-HXT-Arrow-XmlArrow.html#t:ArrowXml">ArrowXml</a> a =&gt; a <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="src/Text-XML-HXT-Arrow-Namespace.html#uniqueNamespacesFromDeclAndQNames" class="link">Source</a></p><div class="doc"><p>generate unique namespaces and add all namespace declarations for all prefix-uri pairs in all qualified names</p><p>useful for cleanup of namespaces in generated documents.
 Calls <code><a href="Text-XML-HXT-Arrow-Namespace.html#v:cleanupNamespaces">cleanupNamespaces</a></code> with <code> collectNamespaceDecl &lt;+&gt; collectPrefixUriPairs </code></p></div></div><div class="top"><p class="src"><a name="v:validateNamespaces" class="def">validateNamespaces</a> :: <a href="Text-XML-HXT-Arrow-XmlArrow.html#t:ArrowXml">ArrowXml</a> a =&gt; a <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="src/Text-XML-HXT-Arrow-Namespace.html#validateNamespaces" class="link">Source</a></p><div class="doc"><p>validate the namespace constraints in a whole tree.</p><p>Result is the list of errors concerning namespaces.
 Predicates <code><a href="Text-XML-HXT-DOM-QualifiedName.html#v:isWellformedQName">isWellformedQName</a></code>, <code><a href="Text-XML-HXT-DOM-QualifiedName.html#v:isWellformedQualifiedName">isWellformedQualifiedName</a></code>, <code><a href="Text-XML-HXT-DOM-QualifiedName.html#v:isDeclaredNamespace">isDeclaredNamespace</a></code>
 and <code><a href="Text-XML-HXT-DOM-QualifiedName.html#v:isWellformedNSDecl">isWellformedNSDecl</a></code> are applied to the appropriate elements and attributes.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>