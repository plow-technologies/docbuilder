<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Text.XML.HXT.Arrow.ProcessDocument</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Text-XML-HXT-Arrow-ProcessDocument.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Text-XML-HXT-Arrow-ProcessDocument.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">hxt-9.3.1.15: A collection of tools for processing XML with Haskell.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>Copyright (C) 2011 Uwe Schmidt</td></tr><tr><th>License</th><td>MIT</td></tr><tr><th>Maintainer</th><td>Uwe Schmidt (uwe@fh-wedel.de)</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>portable</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">Text.XML.HXT.Arrow.ProcessDocument</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Compound arrows for reading, parsing, validating and writing XML documents</p><p>All arrows use IO and a global state for options, errorhandling, ...</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:parseXmlDocument">parseXmlDocument</a> :: <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a> -&gt; <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a> -&gt; <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a> -&gt; <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a> -&gt; <a href="Text-XML-HXT-Arrow-XmlState-TypeDefs.html#t:IOStateArrow">IOStateArrow</a> s <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a></li><li class="src short"><a href="#v:parseXmlDocumentWithExpat">parseXmlDocumentWithExpat</a> :: <a href="Text-XML-HXT-Arrow-XmlState-TypeDefs.html#t:IOStateArrow">IOStateArrow</a> s <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a></li><li class="src short"><a href="#v:parseHtmlDocument">parseHtmlDocument</a> :: <a href="Text-XML-HXT-Arrow-XmlState-TypeDefs.html#t:IOStateArrow">IOStateArrow</a> s <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a></li><li class="src short"><a href="#v:validateDocument">validateDocument</a> :: <a href="Text-XML-HXT-Arrow-XmlState-TypeDefs.html#t:IOStateArrow">IOStateArrow</a> s <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a></li><li class="src short"><a href="#v:propagateAndValidateNamespaces">propagateAndValidateNamespaces</a> :: <a href="Text-XML-HXT-Arrow-XmlState-TypeDefs.html#t:IOStateArrow">IOStateArrow</a> s <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a></li><li class="src short"><a href="#v:andValidateNamespaces">andValidateNamespaces</a> :: <a href="Text-XML-HXT-Arrow-XmlState-TypeDefs.html#t:IOStateArrow">IOStateArrow</a> s <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a></li><li class="src short"><a href="#v:getDocumentContents">getDocumentContents</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; <a href="Text-XML-HXT-Arrow-XmlState-TypeDefs.html#t:IOStateArrow">IOStateArrow</a> s b <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a></li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a name="v:parseXmlDocument" class="def">parseXmlDocument</a> :: <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a> -&gt; <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a> -&gt; <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a> -&gt; <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a> -&gt; <a href="Text-XML-HXT-Arrow-XmlState-TypeDefs.html#t:IOStateArrow">IOStateArrow</a> s <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="src/Text-XML-HXT-Arrow-ProcessDocument.html#parseXmlDocument" class="link">Source</a></p><div class="doc"><p>XML parser</p><p>Input tree must be a root tree with a text tree as child containing the document to be parsed.
The parser generates from the input string a tree of a wellformed XML document,
processes the DTD (parameter substitution, conditional DTD parts, ...) and
substitutes all general entity references. Next step is character reference substitution.
Last step is the document validation.
Validation can be controlled by an extra parameter.</p><p>Example:</p><pre>parseXmlDocument True    -- parse and validate document

parseXmlDocument False   -- only parse document, don't validate</pre><p>This parser is useful for applications processing correct XML documents.</p></div></div><div class="top"><p class="src"><a name="v:parseXmlDocumentWithExpat" class="def">parseXmlDocumentWithExpat</a> :: <a href="Text-XML-HXT-Arrow-XmlState-TypeDefs.html#t:IOStateArrow">IOStateArrow</a> s <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="src/Text-XML-HXT-Arrow-ProcessDocument.html#parseXmlDocumentWithExpat" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:parseHtmlDocument" class="def">parseHtmlDocument</a> :: <a href="Text-XML-HXT-Arrow-XmlState-TypeDefs.html#t:IOStateArrow">IOStateArrow</a> s <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="src/Text-XML-HXT-Arrow-ProcessDocument.html#parseHtmlDocument" class="link">Source</a></p><div class="doc"><p>HTML parser</p><p>Input tree must be a root tree with a text tree as child containing the document to be parsed.
The parser tries to parse everything as HTML, if the HTML document is not wellformed XML or if
errors occur, warnings are generated. The warnings can be issued, or suppressed.</p><p>Example: <code> parseHtmlDocument True </code> : parse document and issue warnings</p><p>This parser is useful for applications like web crawlers, where the pages may contain
arbitray errors, but the application is only interested in parts of the document, e.g. the plain text.</p></div></div><div class="top"><p class="src"><a name="v:validateDocument" class="def">validateDocument</a> :: <a href="Text-XML-HXT-Arrow-XmlState-TypeDefs.html#t:IOStateArrow">IOStateArrow</a> s <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="src/Text-XML-HXT-Arrow-ProcessDocument.html#validateDocument" class="link">Source</a></p><div class="doc"><p>Document validation</p><p>Input must be a complete document tree. The document
is validated with respect to the DTD spec.
Only useful for XML documents containing a DTD.</p><p>If the document is valid, it is transformed with respect to the DTD,
normalization of attribute values, adding default values, sorting attributes by name,...</p><p>If no error was found, result is the normalized tree,
else the error status is set in the list of attributes
of the root node &quot;/&quot; and the document content is removed from the tree.</p></div></div><div class="top"><p class="src"><a name="v:propagateAndValidateNamespaces" class="def">propagateAndValidateNamespaces</a> :: <a href="Text-XML-HXT-Arrow-XmlState-TypeDefs.html#t:IOStateArrow">IOStateArrow</a> s <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="src/Text-XML-HXT-Arrow-ProcessDocument.html#propagateAndValidateNamespaces" class="link">Source</a></p><div class="doc"><p>Namespace propagation</p><p>Input must be a complete document tree. The namespace declarations
are evaluated and all element and attribute names are processed by
splitting the name into prefix, local part and namespace URI.</p><p>Naames are checked with respect to the XML namespace definition</p><p>If no error was found, result is the unchanged input tree,
else the error status is set in the list of attributes
of the root node &quot;/&quot; and the document content is removed from the tree.</p></div></div><div class="top"><p class="src"><a name="v:andValidateNamespaces" class="def">andValidateNamespaces</a> :: <a href="Text-XML-HXT-Arrow-XmlState-TypeDefs.html#t:IOStateArrow">IOStateArrow</a> s <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="src/Text-XML-HXT-Arrow-ProcessDocument.html#andValidateNamespaces" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:getDocumentContents" class="def">getDocumentContents</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; <a href="Text-XML-HXT-Arrow-XmlState-TypeDefs.html#t:IOStateArrow">IOStateArrow</a> s b <a href="Text-XML-HXT-DOM-TypeDefs.html#t:XmlTree">XmlTree</a> <a href="src/Text-XML-HXT-Arrow-ProcessDocument.html#getDocumentContents" class="link">Source</a></p><div class="doc"><p>creates a new document root, adds all options
   as attributes to the document root and calls <code><a href="Text-XML-HXT-Arrow-DocumentInput.html#v:getXmlContents">getXmlContents</a></code>.</p><p>If the document name is the empty string, the document will be read
   from standard input.</p><p>For supported protocols see <code><a href="Text-XML-HXT-Arrow-DocumentInput.html#v:getXmlContents">getXmlContents</a></code></p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>