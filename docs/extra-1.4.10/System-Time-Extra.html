<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>System.Time.Extra</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_System-Time-Extra.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/System-Time-Extra.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">extra-1.4.10: Extra functions I use.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">System.Time.Extra</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Extra functions for working with times. Unlike the other modules in this package, there is no
   corresponding <code>System.Time</code> module. This module enhances the functionality
   from <a href="../time-1.5.0.1/Data-Time-Clock.html">Data.Time.Clock</a>, but in quite different ways.</p><p>Throughout, time is measured in <code><a href="System-Time-Extra.html#t:Seconds">Seconds</a></code>, which is a type alias for <code><a href="../base-4.8.2.0/Prelude.html#t:Double">Double</a></code>.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">type</span> <a href="#t:Seconds">Seconds</a> = <a href="../base-4.8.2.0/Prelude.html#t:Double">Double</a></li><li class="src short"><a href="#v:sleep">sleep</a> :: <a href="System-Time-Extra.html#t:Seconds">Seconds</a> -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:timeout">timeout</a> :: <a href="System-Time-Extra.html#t:Seconds">Seconds</a> -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> a -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> (<a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> a)</li><li class="src short"><a href="#v:subtractTime">subtractTime</a> :: <a href="../time-1.5.0.1/Data-Time-Clock.html#t:UTCTime">UTCTime</a> -&gt; <a href="../time-1.5.0.1/Data-Time-Clock.html#t:UTCTime">UTCTime</a> -&gt; <a href="System-Time-Extra.html#t:Seconds">Seconds</a></li><li class="src short"><a href="#v:showDuration">showDuration</a> :: <a href="System-Time-Extra.html#t:Seconds">Seconds</a> -&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></li><li class="src short"><a href="#v:offsetTime">offsetTime</a> :: <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> (<a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> <a href="System-Time-Extra.html#t:Seconds">Seconds</a>)</li><li class="src short"><a href="#v:offsetTimeIncrease">offsetTimeIncrease</a> :: <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> (<a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> <a href="System-Time-Extra.html#t:Seconds">Seconds</a>)</li><li class="src short"><a href="#v:duration">duration</a> :: <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> a -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> (<a href="System-Time-Extra.html#t:Seconds">Seconds</a>, a)</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Seconds" class="def">Seconds</a> = <a href="../base-4.8.2.0/Prelude.html#t:Double">Double</a> <a href="src/System-Time-Extra.html#Seconds" class="link">Source</a></p><div class="doc"><p>A type alias for seconds, which are stored as <code><a href="../base-4.8.2.0/Prelude.html#t:Double">Double</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:sleep" class="def">sleep</a> :: <a href="System-Time-Extra.html#t:Seconds">Seconds</a> -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> () <a href="src/System-Time-Extra.html#sleep" class="link">Source</a></p><div class="doc"><p>Sleep for a number of seconds.</p><pre>fmap (round . fst) (duration $ sleep 1) == return 1</pre></div></div><div class="top"><p class="src"><a name="v:timeout" class="def">timeout</a> :: <a href="System-Time-Extra.html#t:Seconds">Seconds</a> -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> a -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> (<a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> a) <a href="src/System-Time-Extra.html#timeout" class="link">Source</a></p><div class="doc"><p>A version of <code><a href="../base-4.8.2.0/System-Timeout.html#v:timeout">timeout</a></code> that takes <code><a href="System-Time-Extra.html#t:Seconds">Seconds</a></code> and never
   overflows the bounds of an <code><a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a></code>. In addition, the bug that negative
   timeouts run for ever has been fixed.</p><pre>timeout (-3) (print 1) == return Nothing
timeout 0.1  (print 1) == fmap Just (print 1)
do (t, _) &lt;- duration $ timeout 0.1 $ sleep 1000; print t; return $ t &lt; 1
timeout 0.1  (sleep 2 &gt;&gt; print 1) == return Nothing</pre></div></div><div class="top"><p class="src"><a name="v:subtractTime" class="def">subtractTime</a> :: <a href="../time-1.5.0.1/Data-Time-Clock.html#t:UTCTime">UTCTime</a> -&gt; <a href="../time-1.5.0.1/Data-Time-Clock.html#t:UTCTime">UTCTime</a> -&gt; <a href="System-Time-Extra.html#t:Seconds">Seconds</a> <a href="src/System-Time-Extra.html#subtractTime" class="link">Source</a></p><div class="doc"><p>Calculate the difference between two times in seconds.
   Usually the first time will be the end of an event, and the
   second time will be the beginning.</p><pre>\a b -&gt; a &gt; b ==&gt; subtractTime a b &gt; 0</pre></div></div><div class="top"><p class="src"><a name="v:showDuration" class="def">showDuration</a> :: <a href="System-Time-Extra.html#t:Seconds">Seconds</a> -&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> <a href="src/System-Time-Extra.html#showDuration" class="link">Source</a></p><div class="doc"><p>Show a number of seconds, typically a duration, in a suitable manner with
   responable precision for a human.</p><pre>showDuration 3.435   == &quot;3.44s&quot;
showDuration 623.8   == &quot;10m24s&quot;
showDuration 62003.8 == &quot;17h13m&quot;
showDuration 1e8     == &quot;27777h47m&quot;</pre></div></div><div class="top"><p class="src"><a name="v:offsetTime" class="def">offsetTime</a> :: <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> (<a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> <a href="System-Time-Extra.html#t:Seconds">Seconds</a>) <a href="src/System-Time-Extra.html#offsetTime" class="link">Source</a></p><div class="doc"><p>Call once to start, then call repeatedly to get the elapsed time since the first
   call. Values will usually increase, unless the system clock is updated
   (if you need the guarantee, see <code><a href="System-Time-Extra.html#v:offsetTimeIncrease">offsetTimeIncrease</a></code>).</p></div></div><div class="top"><p class="src"><a name="v:offsetTimeIncrease" class="def">offsetTimeIncrease</a> :: <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> (<a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> <a href="System-Time-Extra.html#t:Seconds">Seconds</a>) <a href="src/System-Time-Extra.html#offsetTimeIncrease" class="link">Source</a></p><div class="doc"><p>Like <code><a href="System-Time-Extra.html#v:offsetTime">offsetTime</a></code>, but results will never decrease (though they may stay the same).</p><pre>do f &lt;- offsetTimeIncrease; xs &lt;- replicateM 10 f; return $ xs == sort xs</pre></div></div><div class="top"><p class="src"><a name="v:duration" class="def">duration</a> :: <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> a -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> (<a href="System-Time-Extra.html#t:Seconds">Seconds</a>, a) <a href="src/System-Time-Extra.html#duration" class="link">Source</a></p><div class="doc"><p>Record how long a computation takes in <code><a href="System-Time-Extra.html#t:Seconds">Seconds</a></code>.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>