<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Text.Regex.Lens</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Text-Regex-Lens.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Text-Regex-Lens.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">lens-regex-0.1.0: Lens powered regular expression</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Text.Regex.Lens</p></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:MatchPart">MatchPart</a> text = <a href="#v:MatchPart">MatchPart</a> {<ul class="subs"><li><a href="#v:_matchedString">_matchedString</a> :: text</li><li><a href="#v:_captures">_captures</a> :: [text]</li></ul>}</li><li class="src short"><a href="#v:matchedString">matchedString</a> :: <span class="keyword">forall</span> text. <a href="../lens-4.13/Control-Lens-Type.html#t:Lens-39-">Lens'</a> (<a href="Text-Regex-Lens.html#t:MatchPart">MatchPart</a> text) text</li><li class="src short"><a href="#v:captures">captures</a> :: <span class="keyword">forall</span> text. <a href="../lens-4.13/Control-Lens-Type.html#t:Getter">Getter</a> (<a href="Text-Regex-Lens.html#t:MatchPart">MatchPart</a> text) [text]</li><li class="src short"><a href="#v:regex">regex</a> :: (<a href="../regex-base-0.93.2/Text-Regex-Base-RegexLike.html#t:RegexLike">RegexLike</a> regex text, <a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> text) =&gt; regex -&gt; <a href="../lens-4.13/Control-Lens-Type.html#t:IndexedTraversal-39-">IndexedTraversal'</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a> text (<a href="Text-Regex-Lens.html#t:MatchPart">MatchPart</a> text)</li><li class="src short"><a href="#v:regex-39-">regex'</a> :: (<a href="../regex-base-0.93.2/Text-Regex-Base-RegexLike.html#t:RegexLike">RegexLike</a> regex text, <a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> text) =&gt; regex -&gt; <a href="../lens-4.13/Control-Lens-Type.html#t:Lens-39-">Lens'</a> text (RegexResult text)</li><li class="src short"><a href="#v:matched">matched</a> :: (<a href="../lens-4.13/Control-Lens-Internal-Indexed.html#t:Indexable">Indexable</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a> p, <a href="../base-4.8.2.0/Control-Applicative.html#t:Applicative">Applicative</a> f) =&gt; p (<a href="Text-Regex-Lens.html#t:MatchPart">MatchPart</a> text) (f (<a href="Text-Regex-Lens.html#t:MatchPart">MatchPart</a> text)) -&gt; RegexResult text -&gt; f (RegexResult text)</li><li class="src short"><a href="#v:matched-39-">matched'</a> :: <a href="../lens-4.13/Control-Lens-Type.html#t:Traversal-39-">Traversal'</a> (RegexResult text) (<a href="Text-Regex-Lens.html#t:MatchPart">MatchPart</a> text)</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:MatchPart" class="def">MatchPart</a> text <a href="src/Text-Regex-Lens.html#MatchPart" class="link">Source</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:MatchPart" class="def">MatchPart</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:_matchedString" class="def">_matchedString</a> :: text</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:_captures" class="def">_captures</a> :: [text]</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:MatchPart" class="caption collapser" onclick="toggleSection('i:MatchPart')">Instances</p><div id="section.i:MatchPart" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> text =&gt; <a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> (<a href="Text-Regex-Lens.html#t:MatchPart">MatchPart</a> text)</span> <a href="src/Text-Regex-Lens.html#line-37" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:matchedString" class="def">matchedString</a> :: <span class="keyword">forall</span> text. <a href="../lens-4.13/Control-Lens-Type.html#t:Lens-39-">Lens'</a> (<a href="Text-Regex-Lens.html#t:MatchPart">MatchPart</a> text) text <a href="src/Text-Regex-Lens.html#matchedString" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:captures" class="def">captures</a> :: <span class="keyword">forall</span> text. <a href="../lens-4.13/Control-Lens-Type.html#t:Getter">Getter</a> (<a href="Text-Regex-Lens.html#t:MatchPart">MatchPart</a> text) [text] <a href="src/Text-Regex-Lens.html#captures" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:regex" class="def">regex</a> <a href="src/Text-Regex-Lens.html#regex" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="../regex-base-0.93.2/Text-Regex-Base-RegexLike.html#t:RegexLike">RegexLike</a> regex text, <a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> text)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; regex</td><td class="doc"><p>compiled regular expression</p></td></tr><tr><td class="src">-&gt; <a href="../lens-4.13/Control-Lens-Type.html#t:IndexedTraversal-39-">IndexedTraversal'</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a> text (<a href="Text-Regex-Lens.html#t:MatchPart">MatchPart</a> text)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>An indexed Traversal for matched part with regexp.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>&quot;foo bar baz&quot; ^? regex [r|b.*r|]
</code></strong>Just (MatchPart {_matchedString = &quot;bar&quot;, _captures = []})
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>&quot;foo bar baz&quot; ^? regex [r|hoge|]
</code></strong>Nothing
</pre><p>You can access to the matched string by using <code><a href="Text-Regex-Lens.html#v:matchedString">matchedString</a></code>:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>&quot;foo bar baz&quot; ^? regex [r|b.*r|] . matchedString
</code></strong>Just &quot;bar&quot;
</pre><p>Multiple result:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>&quot;foo bar baz&quot; ^.. regex [r|b[^ ]+|] . matchedString
</code></strong>[&quot;bar&quot;,&quot;baz&quot;]
</pre><p>Replace:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>&quot;foo bar baz&quot; &amp; regex [r|b[^ ]+|] . matchedString .~ &quot;nya&quot;
</code></strong>&quot;foo nya nya&quot;
</pre><p>Indexing:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>&quot;foo bar baz&quot; ^.. regex [r|b[^ ]+|] . index 1 . matchedString
</code></strong>[&quot;baz&quot;]
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>&quot;foo bar baz&quot; &amp; regex [r|b[^ ]+|] . index 1 . matchedString .~ &quot;nya&quot;
</code></strong>&quot;foo bar nya&quot;
</pre><p>Captures:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>&quot;foo00 bar01 baz02&quot; ^.. regex [r|([a-z]+)([0-9]+)|] . captures
</code></strong>[[&quot;foo&quot;,&quot;00&quot;],[&quot;bar&quot;,&quot;01&quot;],[&quot;baz&quot;,&quot;02&quot;]]
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>&quot;foo00 bar01 baz02&quot; ^.. regex [r|([a-z]+)([0-9]+)|] . captures . traversed . index 1
</code></strong>[&quot;00&quot;,&quot;01&quot;,&quot;02&quot;]
</pre><p><em>Note</em>: This is <em>not</em> a legal Traversal, unless you are very careful not to invalidate the predicate on the target.
 For example, if you replace the matched part with a string which is not match with the regex, the second <code><a href="../lens-4.13/Control-Lens-Type.html#t:Traversal">Traversal</a></code> law is violated.</p><pre>let l = regex [r|t.*t|] . matchedString
<code><a href="../lens-4.13/Control-Lens-Setter.html#v:over">over</a></code> l (++ &quot;peta&quot;) <code><a href="../base-4.8.2.0/Data-Function.html#v:.">.</a></code> <code><a href="../lens-4.13/Control-Lens-Setter.html#v:over">over</a></code> l (++ &quot;nya&quot;) <code><a href="../base-4.8.2.0/Data-Eq.html#v:-47--61-">/=</a></code> <code><a href="../lens-4.13/Control-Lens-Setter.html#v:over">over</a></code> l ((++ &quot;peta&quot;) . (++ &quot;nya&quot;))
<code><a href="../lens-4.13/Control-Lens-Setter.html#v:over">over</a></code> l (++ &quot;put&quot;) <code><a href="../base-4.8.2.0/Data-Function.html#v:.">.</a></code> <code><a href="../lens-4.13/Control-Lens-Setter.html#v:over">over</a></code> l (++ &quot;hot&quot;) <code><a href="../base-4.8.2.0/Data-Eq.html#v:-61--61-">==</a></code> <code><a href="../lens-4.13/Control-Lens-Setter.html#v:over">over</a></code> l ((++ &quot;put&quot;) . (++ &quot;hot&quot;))
</pre></div></div><div class="top"><p class="src"><a name="v:regex-39-" class="def">regex'</a> :: (<a href="../regex-base-0.93.2/Text-Regex-Base-RegexLike.html#t:RegexLike">RegexLike</a> regex text, <a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> text) =&gt; regex -&gt; <a href="../lens-4.13/Control-Lens-Type.html#t:Lens-39-">Lens'</a> text (RegexResult text) <a href="src/Text-Regex-Lens.html#regex%27" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:matched" class="def">matched</a> :: (<a href="../lens-4.13/Control-Lens-Internal-Indexed.html#t:Indexable">Indexable</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a> p, <a href="../base-4.8.2.0/Control-Applicative.html#t:Applicative">Applicative</a> f) =&gt; p (<a href="Text-Regex-Lens.html#t:MatchPart">MatchPart</a> text) (f (<a href="Text-Regex-Lens.html#t:MatchPart">MatchPart</a> text)) -&gt; RegexResult text -&gt; f (RegexResult text) <a href="src/Text-Regex-Lens.html#matched" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:matched-39-" class="def">matched'</a> :: <a href="../lens-4.13/Control-Lens-Type.html#t:Traversal-39-">Traversal'</a> (RegexResult text) (<a href="Text-Regex-Lens.html#t:MatchPart">MatchPart</a> text) <a href="src/Text-Regex-Lens.html#matched%27" class="link">Source</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>