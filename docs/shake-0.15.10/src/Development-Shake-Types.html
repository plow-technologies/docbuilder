<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<!-- Generated by HsColour, http://code.haskell.org/~malcolm/hscolour/ -->
<title>src/Development/Shake/Types.hs</title>
<link type='text/css' rel='stylesheet' href='hscolour.css' />
</head>
<body>
<pre><a name="line-1"></a><span class='hs-comment'>{-# LANGUAGE DeriveDataTypeable, PatternGuards #-}</span>
<a name="line-2"></a>
<a name="line-3"></a><span class='hs-comment'>-- | Types exposed to the user</span>
<a name="line-4"></a><span class='hs-keyword'>module</span> <span class='hs-conid'>Development</span><span class='hs-varop'>.</span><span class='hs-conid'>Shake</span><span class='hs-varop'>.</span><span class='hs-conid'>Types</span><span class='hs-layout'>(</span>
<a name="line-5"></a>    <span class='hs-conid'>Progress</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span> <span class='hs-conid'>Verbosity</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span> <span class='hs-conid'>Assume</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span> <span class='hs-conid'>Lint</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span> <span class='hs-conid'>Change</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span> <span class='hs-conid'>EqualCost</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-6"></a>    <span class='hs-conid'>ShakeOptions</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span> <span class='hs-varid'>shakeOptions</span>
<a name="line-7"></a>    <span class='hs-layout'>)</span> <span class='hs-keyword'>where</span>
<a name="line-8"></a>
<a name="line-9"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Data</span><span class='hs-varop'>.</span><span class='hs-conid'>Data</span>
<a name="line-10"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Data</span><span class='hs-varop'>.</span><span class='hs-conid'>List</span>
<a name="line-11"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Data</span><span class='hs-varop'>.</span><span class='hs-conid'>Dynamic</span>
<a name="line-12"></a><span class='hs-keyword'>import</span> <span class='hs-keyword'>qualified</span> <span class='hs-conid'>Data</span><span class='hs-varop'>.</span><span class='hs-conid'>HashMap</span><span class='hs-varop'>.</span><span class='hs-conid'>Strict</span> <span class='hs-keyword'>as</span> <span class='hs-conid'>HashMap</span>
<a name="line-13"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Development</span><span class='hs-varop'>.</span><span class='hs-conid'>Shake</span><span class='hs-varop'>.</span><span class='hs-conid'>Progress</span>
<a name="line-14"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Development</span><span class='hs-varop'>.</span><span class='hs-conid'>Shake</span><span class='hs-varop'>.</span><span class='hs-conid'>FilePattern</span>
<a name="line-15"></a><span class='hs-keyword'>import</span> <span class='hs-keyword'>qualified</span> <span class='hs-conid'>Data</span><span class='hs-varop'>.</span><span class='hs-conid'>ByteString</span><span class='hs-varop'>.</span><span class='hs-conid'>Char8</span> <span class='hs-keyword'>as</span> <span class='hs-conid'>BS</span>
<a name="line-16"></a><span class='hs-keyword'>import</span> <span class='hs-keyword'>qualified</span> <span class='hs-conid'>Data</span><span class='hs-varop'>.</span><span class='hs-conid'>ByteString</span><span class='hs-varop'>.</span><span class='hs-conid'>UTF8</span> <span class='hs-keyword'>as</span> <span class='hs-conid'>UTF8</span>
<a name="line-17"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Development</span><span class='hs-varop'>.</span><span class='hs-conid'>Shake</span><span class='hs-varop'>.</span><span class='hs-conid'>CmdOption</span>
<a name="line-18"></a>
<a name="line-19"></a>
<a name="line-20"></a><a name="Assume"></a><span class='hs-comment'>-- | The current assumptions made by the build system, used by 'shakeAssume'. These options</span>
<a name="line-21"></a><a name="Assume"></a><span class='hs-comment'>--   allow the end user to specify that any rules run are either to be treated as clean, or as</span>
<a name="line-22"></a><a name="Assume"></a><span class='hs-comment'>--   dirty, regardless of what the build system thinks.</span>
<a name="line-23"></a><a name="Assume"></a><span class='hs-comment'>--</span>
<a name="line-24"></a><a name="Assume"></a><span class='hs-comment'>--   These assumptions only operate on files reached by the current 'Development.Shake.action' commands. Any</span>
<a name="line-25"></a><a name="Assume"></a><span class='hs-comment'>--   other files in the database are left unchanged.</span>
<a name="line-26"></a><a name="Assume"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>Assume</span>
<a name="line-27"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-conid'>AssumeDirty</span>
<a name="line-28"></a>        <span class='hs-comment'>-- ^ Assume that all rules reached are dirty and require rebuilding, equivalent to 'Development.Shake.Rule.storedValue' always</span>
<a name="line-29"></a>        <span class='hs-comment'>--   returning 'Nothing'. Useful to undo the results of 'AssumeClean', for benchmarking rebuild speed and</span>
<a name="line-30"></a>        <span class='hs-comment'>--   for rebuilding if untracked dependencies have changed. This assumption is safe, but may cause</span>
<a name="line-31"></a>        <span class='hs-comment'>--   more rebuilding than necessary.</span>
<a name="line-32"></a>    <span class='hs-keyglyph'>|</span> <span class='hs-conid'>AssumeClean</span>
<a name="line-33"></a>        <span class='hs-comment'>-- ^ /This assumption is unsafe, and may lead to incorrect build results in this run, and in future runs/.</span>
<a name="line-34"></a>        <span class='hs-comment'>--   Assume and record that all rules reached are clean and do not require rebuilding, provided the rule</span>
<a name="line-35"></a>        <span class='hs-comment'>--   has a 'Development.Shake.Rule.storedValue' and has been built before. Useful if you have modified a file in some</span>
<a name="line-36"></a>        <span class='hs-comment'>--   inconsequential way, such as only the comments or whitespace, and wish to avoid a rebuild.</span>
<a name="line-37"></a>    <span class='hs-keyglyph'>|</span> <span class='hs-conid'>AssumeSkip</span>
<a name="line-38"></a>        <span class='hs-comment'>-- ^ /This assumption is unsafe, and may lead to incorrect build results in this run/.</span>
<a name="line-39"></a>        <span class='hs-comment'>--   Assume that all rules reached are clean in this run. Only useful for benchmarking, to remove any overhead</span>
<a name="line-40"></a>        <span class='hs-comment'>--   from running 'Development.Shake.Rule.storedValue' operations.</span>
<a name="line-41"></a>      <span class='hs-keyword'>deriving</span> <span class='hs-layout'>(</span><span class='hs-conid'>Eq</span><span class='hs-layout'>,</span><span class='hs-conid'>Ord</span><span class='hs-layout'>,</span><span class='hs-conid'>Show</span><span class='hs-layout'>,</span><span class='hs-conid'>Read</span><span class='hs-layout'>,</span><span class='hs-conid'>Typeable</span><span class='hs-layout'>,</span><span class='hs-conid'>Data</span><span class='hs-layout'>,</span><span class='hs-conid'>Enum</span><span class='hs-layout'>,</span><span class='hs-conid'>Bounded</span><span class='hs-layout'>)</span>
<a name="line-42"></a>
<a name="line-43"></a>
<a name="line-44"></a><a name="Lint"></a><span class='hs-comment'>-- | Which lint checks to perform, used by 'shakeLint'.</span>
<a name="line-45"></a><a name="Lint"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>Lint</span>
<a name="line-46"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-conid'>LintBasic</span>
<a name="line-47"></a>        <span class='hs-comment'>-- ^ The most basic form of linting. Checks that the current directory does not change and that results do not change after they</span>
<a name="line-48"></a>        <span class='hs-comment'>--   are first written. Any calls to 'needed' will assert that they do not cause a rule to be rebuilt.</span>
<a name="line-49"></a>    <span class='hs-keyglyph'>|</span> <span class='hs-conid'>LintFSATrace</span>
<a name="line-50"></a>        <span class='hs-comment'>-- ^ Track which files are accessed by command line programs</span>
<a name="line-51"></a>        <span class='hs-comment'>-- using &lt;https://github.com/jacereda/fsatrace fsatrace&gt;.</span>
<a name="line-52"></a>      <span class='hs-keyword'>deriving</span> <span class='hs-layout'>(</span><span class='hs-conid'>Eq</span><span class='hs-layout'>,</span><span class='hs-conid'>Ord</span><span class='hs-layout'>,</span><span class='hs-conid'>Show</span><span class='hs-layout'>,</span><span class='hs-conid'>Read</span><span class='hs-layout'>,</span><span class='hs-conid'>Typeable</span><span class='hs-layout'>,</span><span class='hs-conid'>Data</span><span class='hs-layout'>,</span><span class='hs-conid'>Enum</span><span class='hs-layout'>,</span><span class='hs-conid'>Bounded</span><span class='hs-layout'>)</span>
<a name="line-53"></a>
<a name="line-54"></a>
<a name="line-55"></a><a name="Change"></a><span class='hs-comment'>-- | How should you determine if a file has changed, used by 'shakeChange'. The most common values are</span>
<a name="line-56"></a><a name="Change"></a><span class='hs-comment'>--   'ChangeModtime' (very fast, @touch@ causes files to rebuild) and 'ChangeModtimeAndDigestInput'</span>
<a name="line-57"></a><a name="Change"></a><span class='hs-comment'>--   (a bit slower, @touch@ does not cause input files to rebuild).</span>
<a name="line-58"></a><a name="Change"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>Change</span>
<a name="line-59"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-conid'>ChangeModtime</span>
<a name="line-60"></a>        <span class='hs-comment'>-- ^ Compare equality of modification timestamps, a file has changed if its last modified time changes.</span>
<a name="line-61"></a>        <span class='hs-comment'>--   A @touch@ will force a rebuild. This mode is fast and usually sufficiently accurate, so is the default.</span>
<a name="line-62"></a>    <span class='hs-keyglyph'>|</span> <span class='hs-conid'>ChangeDigest</span>
<a name="line-63"></a>        <span class='hs-comment'>-- ^ Compare equality of file contents digests, a file has changed if its digest changes.</span>
<a name="line-64"></a>        <span class='hs-comment'>--   A @touch@ will not force a rebuild. Use this mode if modification times on your file system are unreliable.</span>
<a name="line-65"></a>    <span class='hs-keyglyph'>|</span> <span class='hs-conid'>ChangeModtimeAndDigest</span>
<a name="line-66"></a>        <span class='hs-comment'>-- ^ A file is rebuilt if both its modification time and digest have changed. For efficiency reasons, the modification</span>
<a name="line-67"></a>        <span class='hs-comment'>--   time is checked first, and if that has changed, the digest is checked.</span>
<a name="line-68"></a>    <span class='hs-keyglyph'>|</span> <span class='hs-conid'>ChangeModtimeAndDigestInput</span>
<a name="line-69"></a>        <span class='hs-comment'>-- ^ Use 'ChangeModtimeAndDigest' for input\/source files and 'ChangeModtime' for output files.</span>
<a name="line-70"></a>    <span class='hs-keyglyph'>|</span> <span class='hs-conid'>ChangeModtimeOrDigest</span>
<a name="line-71"></a>        <span class='hs-comment'>-- ^ A file is rebuilt if either its modification time or its digest has changed. A @touch@ will force a rebuild,</span>
<a name="line-72"></a>        <span class='hs-comment'>--   but even if a files modification time is reset afterwards, changes will also cause a rebuild.</span>
<a name="line-73"></a>      <span class='hs-keyword'>deriving</span> <span class='hs-layout'>(</span><span class='hs-conid'>Eq</span><span class='hs-layout'>,</span><span class='hs-conid'>Ord</span><span class='hs-layout'>,</span><span class='hs-conid'>Show</span><span class='hs-layout'>,</span><span class='hs-conid'>Read</span><span class='hs-layout'>,</span><span class='hs-conid'>Typeable</span><span class='hs-layout'>,</span><span class='hs-conid'>Data</span><span class='hs-layout'>,</span><span class='hs-conid'>Enum</span><span class='hs-layout'>,</span><span class='hs-conid'>Bounded</span><span class='hs-layout'>)</span>
<a name="line-74"></a>
<a name="line-75"></a>
<a name="line-76"></a><a name="ShakeOptions"></a><span class='hs-comment'>-- | Options to control the execution of Shake, usually specified by overriding fields in</span>
<a name="line-77"></a><a name="ShakeOptions"></a><span class='hs-comment'>--   'shakeOptions':</span>
<a name="line-78"></a><a name="ShakeOptions"></a><span class='hs-comment'>--</span>
<a name="line-79"></a><a name="ShakeOptions"></a><span class='hs-comment'>--   @ 'shakeOptions'{'shakeThreads'=4, 'shakeReport'=[\"report.html\"]} @</span>
<a name="line-80"></a><a name="ShakeOptions"></a><span class='hs-comment'>--</span>
<a name="line-81"></a><a name="ShakeOptions"></a><span class='hs-comment'>--   The 'Data' instance for this type reports the 'shakeProgress' and 'shakeOutput' fields as having the abstract type 'Hidden',</span>
<a name="line-82"></a><a name="ShakeOptions"></a><span class='hs-comment'>--   because 'Data' cannot be defined for functions or 'TypeRep's.</span>
<a name="line-83"></a><a name="ShakeOptions"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>ShakeOptions</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>ShakeOptions</span>
<a name="line-84"></a>    <span class='hs-layout'>{</span><span class='hs-varid'>shakeFiles</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>FilePath</span>
<a name="line-85"></a>        <span class='hs-comment'>-- ^ Defaults to @.shake@. The directory used for storing Shake metadata files.</span>
<a name="line-86"></a>        <span class='hs-comment'>--   All metadata files will be named @'shakeFiles'\/.shake./file-name/@, for some @/file-name/@.</span>
<a name="line-87"></a>        <span class='hs-comment'>--   If the 'shakeFiles' directory does not exist it will be created.</span>
<a name="line-88"></a>    <span class='hs-layout'>,</span><span class='hs-varid'>shakeThreads</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span>
<a name="line-89"></a>        <span class='hs-comment'>-- ^ Defaults to @1@. Maximum number of rules to run in parallel, similar to @make --jobs=/N/@.</span>
<a name="line-90"></a>        <span class='hs-comment'>--   For many build systems, a number equal to or slightly less than the number of physical processors</span>
<a name="line-91"></a>        <span class='hs-comment'>--   works well. Use @0@ to match the detected number of processors (when @0@, 'getShakeOptions' will</span>
<a name="line-92"></a>        <span class='hs-comment'>--   return the number of threads used).</span>
<a name="line-93"></a>    <span class='hs-layout'>,</span><span class='hs-varid'>shakeVersion</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span>
<a name="line-94"></a>        <span class='hs-comment'>-- ^ Defaults to @"1"@. The version number of your build rules.</span>
<a name="line-95"></a>        <span class='hs-comment'>--   Change the version number to force a complete rebuild, such as when making</span>
<a name="line-96"></a>        <span class='hs-comment'>--   significant changes to the rules that require a wipe. The version number should be</span>
<a name="line-97"></a>        <span class='hs-comment'>--   set in the source code, and not passed on the command line.</span>
<a name="line-98"></a>    <span class='hs-layout'>,</span><span class='hs-varid'>shakeVerbosity</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Verbosity</span>
<a name="line-99"></a>        <span class='hs-comment'>-- ^ Defaults to 'Normal'. What level of messages should be printed out.</span>
<a name="line-100"></a>    <span class='hs-layout'>,</span><span class='hs-varid'>shakeStaunch</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span>
<a name="line-101"></a>        <span class='hs-comment'>-- ^ Defaults to 'False'. Operate in staunch mode, where building continues even after errors,</span>
<a name="line-102"></a>        <span class='hs-comment'>--   similar to @make --keep-going@.</span>
<a name="line-103"></a>    <span class='hs-layout'>,</span><span class='hs-varid'>shakeReport</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>FilePath</span><span class='hs-keyglyph'>]</span>
<a name="line-104"></a>        <span class='hs-comment'>-- ^ Defaults to @[]@. Write a profiling report to a file, showing which rules rebuilt,</span>
<a name="line-105"></a>        <span class='hs-comment'>--   why, and how much time they took. Useful for improving the speed of your build systems.</span>
<a name="line-106"></a>        <span class='hs-comment'>--   If the file extension is @.json@ it will write JSON data; if @.js@ it will write Javascript;</span>
<a name="line-107"></a>        <span class='hs-comment'>--   if @.trace@ it will write trace events (load into @about:\/\/tracing@ in Chrome);</span>
<a name="line-108"></a>        <span class='hs-comment'>--   otherwise it will write HTML.</span>
<a name="line-109"></a>    <span class='hs-layout'>,</span><span class='hs-varid'>shakeLint</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Lint</span>
<a name="line-110"></a>        <span class='hs-comment'>-- ^ Defaults to 'Nothing'. Perform sanity checks during building, see 'Lint' for details.</span>
<a name="line-111"></a>    <span class='hs-layout'>,</span><span class='hs-varid'>shakeLintInside</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>FilePath</span><span class='hs-keyglyph'>]</span>
<a name="line-112"></a>        <span class='hs-comment'>-- ^ Directories in which the files will be tracked by the linter.</span>
<a name="line-113"></a>    <span class='hs-layout'>,</span><span class='hs-varid'>shakeLintIgnore</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>FilePattern</span><span class='hs-keyglyph'>]</span>
<a name="line-114"></a>        <span class='hs-comment'>-- ^ File patterns which are ignored from linter tracking, a bit like calling 'Development.Shake.trackAllow' in every rule.</span>
<a name="line-115"></a>    <span class='hs-layout'>,</span><span class='hs-varid'>shakeCommandOptions</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>CmdOption</span><span class='hs-keyglyph'>]</span>
<a name="line-116"></a>        <span class='hs-comment'>-- ^ Defaults to @[]@. Additional options to be passed to all command invocations.</span>
<a name="line-117"></a>    <span class='hs-layout'>,</span><span class='hs-varid'>shakeFlush</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Double</span>
<a name="line-118"></a>        <span class='hs-comment'>-- ^ Defaults to @'Just' 10@. How often to flush Shake metadata files in seconds, or 'Nothing' to never flush explicitly.</span>
<a name="line-119"></a>        <span class='hs-comment'>--   It is possible that on abnormal termination (not Haskell exceptions) any rules that completed in the last</span>
<a name="line-120"></a>        <span class='hs-comment'>--   'shakeFlush' seconds will be lost.</span>
<a name="line-121"></a>    <span class='hs-layout'>,</span><span class='hs-varid'>shakeAssume</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Assume</span>
<a name="line-122"></a>        <span class='hs-comment'>-- ^ Defaults to 'Nothing'. Assume all build objects are clean/dirty, see 'Assume' for details.</span>
<a name="line-123"></a>        <span class='hs-comment'>--   Can be used to implement @make --touch@.</span>
<a name="line-124"></a>    <span class='hs-layout'>,</span><span class='hs-varid'>shakeAbbreviations</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-conid'>String</span><span class='hs-layout'>,</span><span class='hs-conid'>String</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>
<a name="line-125"></a>        <span class='hs-comment'>-- ^ Defaults to @[]@. A list of substrings that should be abbreviated in status messages, and their corresponding abbreviation.</span>
<a name="line-126"></a>        <span class='hs-comment'>--   Commonly used to replace the long paths (e.g. @.make\/i586-linux-gcc\/output@) with an abbreviation (e.g. @$OUT@).</span>
<a name="line-127"></a>    <span class='hs-layout'>,</span><span class='hs-varid'>shakeStorageLog</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span>
<a name="line-128"></a>        <span class='hs-comment'>-- ^ Defaults to 'False'. Write a message to @'shakeFiles'\/.shake.storage.log@ whenever a storage event happens which may impact</span>
<a name="line-129"></a>        <span class='hs-comment'>--   on the current stored progress. Examples include database version number changes, database compaction or corrupt files.</span>
<a name="line-130"></a>    <span class='hs-layout'>,</span><span class='hs-varid'>shakeLineBuffering</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span>
<a name="line-131"></a>        <span class='hs-comment'>-- ^ Defaults to 'True'. Change 'stdout' and 'stderr' to line buffering while running Shake.</span>
<a name="line-132"></a>    <span class='hs-layout'>,</span><span class='hs-varid'>shakeTimings</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span>
<a name="line-133"></a>        <span class='hs-comment'>-- ^ Defaults to 'False'. Print timing information for each stage at the end.</span>
<a name="line-134"></a>    <span class='hs-layout'>,</span><span class='hs-varid'>shakeRunCommands</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span>
<a name="line-135"></a>        <span class='hs-comment'>-- ^ Default to 'True'. Should you run command line actions, set to 'False' to skip actions whose output streams and exit code</span>
<a name="line-136"></a>        <span class='hs-comment'>--   are not used. Useful for profiling the non-command portion of the build system.</span>
<a name="line-137"></a>    <span class='hs-layout'>,</span><span class='hs-varid'>shakeChange</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Change</span>
<a name="line-138"></a>        <span class='hs-comment'>-- ^ Default to 'ChangeModtime'. How to check if a file has changed, see 'Change' for details.</span>
<a name="line-139"></a>    <span class='hs-layout'>,</span><span class='hs-varid'>shakeCreationCheck</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span>
<a name="line-140"></a>        <span class='hs-comment'>-- ^ Default to 'True'. After running a rule to create a file, is it an error if the file does not exist.</span>
<a name="line-141"></a>        <span class='hs-comment'>--   Provided for compatibility with @make@ and @ninja@ (which have ugly file creation semantics).</span>
<a name="line-142"></a>
<a name="line-143"></a><span class='hs-comment'>--    ,shakeOutputCheck :: Bool</span>
<a name="line-144"></a><span class='hs-comment'>--        -- ^ Default to 'True'. If a file produced by a rule changes, should you rebuild it.</span>
<a name="line-145"></a>    <span class='hs-layout'>,</span><span class='hs-varid'>shakeLiveFiles</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>FilePath</span><span class='hs-keyglyph'>]</span>
<a name="line-146"></a>        <span class='hs-comment'>-- ^ Default to @[]@. After the build system completes, write a list of all files which were /live/ in that run,</span>
<a name="line-147"></a>        <span class='hs-comment'>--   i.e. those which Shake checked were valid or rebuilt. Produces best answers if nothing rebuilds.</span>
<a name="line-148"></a>    <span class='hs-layout'>,</span><span class='hs-varid'>shakeVersionIgnore</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span>
<a name="line-149"></a>        <span class='hs-comment'>-- ^ Defaults to 'False'. Ignore any differences in 'shakeVersion'.</span>
<a name="line-150"></a>    <span class='hs-layout'>,</span><span class='hs-varid'>shakeProgress</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>IO</span> <span class='hs-conid'>Progress</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>IO</span> <span class='hs-conid'>()</span>
<a name="line-151"></a>        <span class='hs-comment'>-- ^ Defaults to no action. A function called when the build starts, allowing progress to be reported.</span>
<a name="line-152"></a>        <span class='hs-comment'>--   The function is called on a separate thread, and that thread is killed when the build completes.</span>
<a name="line-153"></a>        <span class='hs-comment'>--   For applications that want to display progress messages, 'progressSimple' is often sufficient, but more advanced</span>
<a name="line-154"></a>        <span class='hs-comment'>--   users should look at the 'Progress' data type.</span>
<a name="line-155"></a>    <span class='hs-layout'>,</span><span class='hs-varid'>shakeOutput</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Verbosity</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>IO</span> <span class='hs-conid'>()</span>
<a name="line-156"></a>        <span class='hs-comment'>-- ^ Defaults to writing using 'putStrLn'. A function called to output messages from Shake, along with the 'Verbosity' at</span>
<a name="line-157"></a>        <span class='hs-comment'>--   which that message should be printed. This function will be called atomically from all other 'shakeOutput' functions.</span>
<a name="line-158"></a>        <span class='hs-comment'>--   The 'Verbosity' will always be greater than or higher than 'shakeVerbosity'.</span>
<a name="line-159"></a>    <span class='hs-layout'>,</span><span class='hs-varid'>shakeExtra</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>HashMap</span><span class='hs-varop'>.</span><span class='hs-conid'>HashMap</span> <span class='hs-conid'>TypeRep</span> <span class='hs-conid'>Dynamic</span>
<a name="line-160"></a>        <span class='hs-comment'>-- ^ This a map which can be used to store arbitrary extra</span>
<a name="line-161"></a>        <span class='hs-comment'>--   information that a user may need when writing 'Rule's.  The</span>
<a name="line-162"></a>        <span class='hs-comment'>--   correct way to use this is to define a (hidden) newtype to</span>
<a name="line-163"></a>        <span class='hs-comment'>--   use as a key, so that conflicts cannot occur.</span>
<a name="line-164"></a>    <span class='hs-layout'>}</span>
<a name="line-165"></a>    <span class='hs-keyword'>deriving</span> <span class='hs-conid'>Typeable</span>
<a name="line-166"></a>
<a name="line-167"></a><a name="shakeOptions"></a><span class='hs-comment'>-- | The default set of 'ShakeOptions'.</span>
<a name="line-168"></a><span class='hs-definition'>shakeOptions</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>ShakeOptions</span>
<a name="line-169"></a><span class='hs-definition'>shakeOptions</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>ShakeOptions</span>
<a name="line-170"></a>    <span class='hs-str'>".shake"</span> <span class='hs-num'>1</span> <span class='hs-str'>"1"</span> <span class='hs-conid'>Normal</span> <span class='hs-conid'>False</span> <span class='hs-conid'>[]</span> <span class='hs-conid'>Nothing</span> <span class='hs-conid'>[]</span> <span class='hs-conid'>[]</span> <span class='hs-conid'>[]</span> <span class='hs-layout'>(</span><span class='hs-conid'>Just</span> <span class='hs-num'>10</span><span class='hs-layout'>)</span> <span class='hs-conid'>Nothing</span> <span class='hs-conid'>[]</span> <span class='hs-conid'>False</span> <span class='hs-conid'>True</span> <span class='hs-conid'>False</span>
<a name="line-171"></a>    <span class='hs-conid'>True</span> <span class='hs-conid'>ChangeModtime</span> <span class='hs-conid'>True</span> <span class='hs-conid'>[]</span> <span class='hs-conid'>False</span>
<a name="line-172"></a>    <span class='hs-layout'>(</span><span class='hs-varid'>const</span> <span class='hs-varop'>$</span> <span class='hs-varid'>return</span> <span class='hs-conid'>()</span><span class='hs-layout'>)</span>
<a name="line-173"></a>    <span class='hs-layout'>(</span><span class='hs-varid'>const</span> <span class='hs-varop'>$</span> <span class='hs-conid'>BS</span><span class='hs-varop'>.</span><span class='hs-varid'>putStrLn</span> <span class='hs-varop'>.</span> <span class='hs-conid'>UTF8</span><span class='hs-varop'>.</span><span class='hs-varid'>fromString</span><span class='hs-layout'>)</span> <span class='hs-comment'>-- try and output atomically using BS</span>
<a name="line-174"></a>    <span class='hs-conid'>HashMap</span><span class='hs-varop'>.</span><span class='hs-varid'>empty</span>
<a name="line-175"></a>
<a name="line-176"></a><a name="fieldsShakeOptions"></a><span class='hs-definition'>fieldsShakeOptions</span> <span class='hs-keyglyph'>=</span>
<a name="line-177"></a>    <span class='hs-keyglyph'>[</span><span class='hs-str'>"shakeFiles"</span><span class='hs-layout'>,</span> <span class='hs-str'>"shakeThreads"</span><span class='hs-layout'>,</span> <span class='hs-str'>"shakeVersion"</span><span class='hs-layout'>,</span> <span class='hs-str'>"shakeVerbosity"</span><span class='hs-layout'>,</span> <span class='hs-str'>"shakeStaunch"</span><span class='hs-layout'>,</span> <span class='hs-str'>"shakeReport"</span>
<a name="line-178"></a>    <span class='hs-layout'>,</span><span class='hs-str'>"shakeLint"</span><span class='hs-layout'>,</span> <span class='hs-str'>"shakeLintInside"</span><span class='hs-layout'>,</span> <span class='hs-str'>"shakeLintIgnore"</span><span class='hs-layout'>,</span> <span class='hs-str'>"shakeCommandOptions"</span>
<a name="line-179"></a>    <span class='hs-layout'>,</span><span class='hs-str'>"shakeFlush"</span><span class='hs-layout'>,</span> <span class='hs-str'>"shakeAssume"</span><span class='hs-layout'>,</span> <span class='hs-str'>"shakeAbbreviations"</span><span class='hs-layout'>,</span> <span class='hs-str'>"shakeStorageLog"</span>
<a name="line-180"></a>    <span class='hs-layout'>,</span><span class='hs-str'>"shakeLineBuffering"</span><span class='hs-layout'>,</span> <span class='hs-str'>"shakeTimings"</span><span class='hs-layout'>,</span> <span class='hs-str'>"shakeRunCommands"</span><span class='hs-layout'>,</span> <span class='hs-str'>"shakeChange"</span><span class='hs-layout'>,</span> <span class='hs-str'>"shakeCreationCheck"</span>
<a name="line-181"></a>    <span class='hs-layout'>,</span><span class='hs-str'>"shakeLiveFiles"</span><span class='hs-layout'>,</span><span class='hs-str'>"shakeVersionIgnore"</span><span class='hs-layout'>,</span><span class='hs-str'>"shakeProgress"</span><span class='hs-layout'>,</span> <span class='hs-str'>"shakeOutput"</span><span class='hs-layout'>,</span> <span class='hs-str'>"shakeExtra"</span><span class='hs-keyglyph'>]</span>
<a name="line-182"></a><a name="tyShakeOptions"></a><span class='hs-definition'>tyShakeOptions</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkDataType</span> <span class='hs-str'>"Development.Shake.Types.ShakeOptions"</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>conShakeOptions</span><span class='hs-keyglyph'>]</span>
<a name="line-183"></a><a name="conShakeOptions"></a><span class='hs-definition'>conShakeOptions</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkConstr</span> <span class='hs-varid'>tyShakeOptions</span> <span class='hs-str'>"ShakeOptions"</span> <span class='hs-varid'>fieldsShakeOptions</span> <span class='hs-conid'>Prefix</span>
<a name="line-184"></a><a name="unhide"></a><span class='hs-definition'>unhide</span> <span class='hs-varid'>x1</span> <span class='hs-varid'>x2</span> <span class='hs-varid'>x3</span> <span class='hs-varid'>x4</span> <span class='hs-varid'>x5</span> <span class='hs-varid'>x6</span> <span class='hs-varid'>x7</span> <span class='hs-varid'>x8</span> <span class='hs-varid'>x9</span> <span class='hs-varid'>x10</span> <span class='hs-varid'>x11</span> <span class='hs-varid'>x12</span> <span class='hs-varid'>x13</span> <span class='hs-varid'>x14</span> <span class='hs-varid'>x15</span> <span class='hs-varid'>x16</span> <span class='hs-varid'>x17</span> <span class='hs-varid'>x18</span> <span class='hs-varid'>x19</span> <span class='hs-varid'>x20</span> <span class='hs-varid'>x21</span> <span class='hs-varid'>y1</span> <span class='hs-varid'>y2</span> <span class='hs-varid'>y3</span> <span class='hs-keyglyph'>=</span>
<a name="line-185"></a>    <span class='hs-conid'>ShakeOptions</span> <span class='hs-varid'>x1</span> <span class='hs-varid'>x2</span> <span class='hs-varid'>x3</span> <span class='hs-varid'>x4</span> <span class='hs-varid'>x5</span> <span class='hs-varid'>x6</span> <span class='hs-varid'>x7</span> <span class='hs-varid'>x8</span> <span class='hs-varid'>x9</span> <span class='hs-varid'>x10</span> <span class='hs-varid'>x11</span> <span class='hs-varid'>x12</span> <span class='hs-varid'>x13</span> <span class='hs-varid'>x14</span> <span class='hs-varid'>x15</span> <span class='hs-varid'>x16</span> <span class='hs-varid'>x17</span> <span class='hs-varid'>x18</span> <span class='hs-varid'>x19</span> <span class='hs-varid'>x20</span> <span class='hs-varid'>x21</span> <span class='hs-layout'>(</span><span class='hs-varid'>fromHidden</span> <span class='hs-varid'>y1</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>fromHidden</span> <span class='hs-varid'>y2</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>fromHidden</span> <span class='hs-varid'>y3</span><span class='hs-layout'>)</span>
<a name="line-186"></a>
<a name="line-187"></a><a name="instance%20Data%20ShakeOptions"></a><span class='hs-keyword'>instance</span> <span class='hs-conid'>Data</span> <span class='hs-conid'>ShakeOptions</span> <span class='hs-keyword'>where</span>
<a name="line-188"></a>    <span class='hs-varid'>gfoldl</span> <span class='hs-varid'>k</span> <span class='hs-varid'>z</span> <span class='hs-layout'>(</span><span class='hs-conid'>ShakeOptions</span> <span class='hs-varid'>x1</span> <span class='hs-varid'>x2</span> <span class='hs-varid'>x3</span> <span class='hs-varid'>x4</span> <span class='hs-varid'>x5</span> <span class='hs-varid'>x6</span> <span class='hs-varid'>x7</span> <span class='hs-varid'>x8</span> <span class='hs-varid'>x9</span> <span class='hs-varid'>x10</span> <span class='hs-varid'>x11</span> <span class='hs-varid'>x12</span> <span class='hs-varid'>x13</span> <span class='hs-varid'>x14</span> <span class='hs-varid'>x15</span> <span class='hs-varid'>x16</span> <span class='hs-varid'>x17</span> <span class='hs-varid'>x18</span> <span class='hs-varid'>x19</span> <span class='hs-varid'>x20</span> <span class='hs-varid'>x21</span> <span class='hs-varid'>y1</span> <span class='hs-varid'>y2</span> <span class='hs-varid'>y3</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span>
<a name="line-189"></a>        <span class='hs-varid'>z</span> <span class='hs-varid'>unhide</span> <span class='hs-varop'>`k`</span> <span class='hs-varid'>x1</span> <span class='hs-varop'>`k`</span> <span class='hs-varid'>x2</span> <span class='hs-varop'>`k`</span> <span class='hs-varid'>x3</span> <span class='hs-varop'>`k`</span> <span class='hs-varid'>x4</span> <span class='hs-varop'>`k`</span> <span class='hs-varid'>x5</span> <span class='hs-varop'>`k`</span> <span class='hs-varid'>x6</span> <span class='hs-varop'>`k`</span> <span class='hs-varid'>x7</span> <span class='hs-varop'>`k`</span> <span class='hs-varid'>x8</span> <span class='hs-varop'>`k`</span> <span class='hs-varid'>x9</span> <span class='hs-varop'>`k`</span> <span class='hs-varid'>x10</span> <span class='hs-varop'>`k`</span> <span class='hs-varid'>x11</span> <span class='hs-varop'>`k`</span>
<a name="line-190"></a>        <span class='hs-varid'>x12</span> <span class='hs-varop'>`k`</span> <span class='hs-varid'>x13</span> <span class='hs-varop'>`k`</span> <span class='hs-varid'>x14</span> <span class='hs-varop'>`k`</span> <span class='hs-varid'>x15</span> <span class='hs-varop'>`k`</span> <span class='hs-varid'>x16</span> <span class='hs-varop'>`k`</span> <span class='hs-varid'>x17</span> <span class='hs-varop'>`k`</span> <span class='hs-varid'>x18</span> <span class='hs-varop'>`k`</span> <span class='hs-varid'>x19</span> <span class='hs-varop'>`k`</span> <span class='hs-varid'>x20</span> <span class='hs-varop'>`k`</span> <span class='hs-varid'>x21</span> <span class='hs-varop'>`k`</span>
<a name="line-191"></a>        <span class='hs-conid'>Hidden</span> <span class='hs-varid'>y1</span> <span class='hs-varop'>`k`</span> <span class='hs-conid'>Hidden</span> <span class='hs-varid'>y2</span> <span class='hs-varop'>`k`</span> <span class='hs-conid'>Hidden</span> <span class='hs-varid'>y3</span>
<a name="line-192"></a>    <span class='hs-varid'>gunfold</span> <span class='hs-varid'>k</span> <span class='hs-varid'>z</span> <span class='hs-varid'>c</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>k</span> <span class='hs-varop'>$</span> <span class='hs-varid'>k</span> <span class='hs-varop'>$</span> <span class='hs-varid'>k</span> <span class='hs-varop'>$</span> <span class='hs-varid'>k</span> <span class='hs-varop'>$</span> <span class='hs-varid'>k</span> <span class='hs-varop'>$</span> <span class='hs-varid'>k</span> <span class='hs-varop'>$</span> <span class='hs-varid'>k</span> <span class='hs-varop'>$</span> <span class='hs-varid'>k</span> <span class='hs-varop'>$</span> <span class='hs-varid'>k</span> <span class='hs-varop'>$</span> <span class='hs-varid'>k</span> <span class='hs-varop'>$</span> <span class='hs-varid'>k</span> <span class='hs-varop'>$</span> <span class='hs-varid'>k</span> <span class='hs-varop'>$</span> <span class='hs-varid'>k</span> <span class='hs-varop'>$</span> <span class='hs-varid'>k</span> <span class='hs-varop'>$</span> <span class='hs-varid'>k</span> <span class='hs-varop'>$</span> <span class='hs-varid'>k</span> <span class='hs-varop'>$</span> <span class='hs-varid'>k</span> <span class='hs-varop'>$</span> <span class='hs-varid'>k</span> <span class='hs-varop'>$</span> <span class='hs-varid'>k</span> <span class='hs-varop'>$</span> <span class='hs-varid'>k</span> <span class='hs-varop'>$</span> <span class='hs-varid'>k</span> <span class='hs-varop'>$</span> <span class='hs-varid'>k</span> <span class='hs-varop'>$</span> <span class='hs-varid'>k</span> <span class='hs-varop'>$</span> <span class='hs-varid'>k</span> <span class='hs-varop'>$</span> <span class='hs-varid'>z</span> <span class='hs-varid'>unhide</span>
<a name="line-193"></a>    <span class='hs-varid'>toConstr</span> <span class='hs-conid'>ShakeOptions</span><span class='hs-layout'>{</span><span class='hs-layout'>}</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>conShakeOptions</span>
<a name="line-194"></a>    <span class='hs-varid'>dataTypeOf</span> <span class='hs-keyword'>_</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>tyShakeOptions</span>
<a name="line-195"></a>
<a name="line-196"></a><a name="instance%20Show%20ShakeOptions"></a><span class='hs-keyword'>instance</span> <span class='hs-conid'>Show</span> <span class='hs-conid'>ShakeOptions</span> <span class='hs-keyword'>where</span>
<a name="line-197"></a>    <span class='hs-varid'>show</span> <span class='hs-varid'>x</span> <span class='hs-keyglyph'>=</span> <span class='hs-str'>"ShakeOptions {"</span> <span class='hs-varop'>++</span> <span class='hs-varid'>intercalate</span> <span class='hs-str'>", "</span> <span class='hs-varid'>inner</span> <span class='hs-varop'>++</span> <span class='hs-str'>"}"</span>
<a name="line-198"></a>        <span class='hs-keyword'>where</span>
<a name="line-199"></a>            <span class='hs-varid'>inner</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>zipWith</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>x</span> <span class='hs-varid'>y</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>x</span> <span class='hs-varop'>++</span> <span class='hs-str'>" = "</span> <span class='hs-varop'>++</span> <span class='hs-varid'>y</span><span class='hs-layout'>)</span> <span class='hs-varid'>fieldsShakeOptions</span> <span class='hs-varop'>$</span> <span class='hs-varid'>gmapQ</span> <span class='hs-varid'>f</span> <span class='hs-varid'>x</span>
<a name="line-200"></a>
<a name="line-201"></a>            <span class='hs-varid'>f</span> <span class='hs-varid'>x</span> <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>x</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>cast</span> <span class='hs-varid'>x</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>show</span> <span class='hs-layout'>(</span><span class='hs-varid'>x</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span><span class='hs-layout'>)</span>
<a name="line-202"></a>                <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>x</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>cast</span> <span class='hs-varid'>x</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>show</span> <span class='hs-layout'>(</span><span class='hs-varid'>x</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>FilePath</span><span class='hs-layout'>)</span>
<a name="line-203"></a>                <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>x</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>cast</span> <span class='hs-varid'>x</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>show</span> <span class='hs-layout'>(</span><span class='hs-varid'>x</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Verbosity</span><span class='hs-layout'>)</span>
<a name="line-204"></a>                <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>x</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>cast</span> <span class='hs-varid'>x</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>show</span> <span class='hs-layout'>(</span><span class='hs-varid'>x</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Change</span><span class='hs-layout'>)</span>
<a name="line-205"></a>                <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>x</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>cast</span> <span class='hs-varid'>x</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>show</span> <span class='hs-layout'>(</span><span class='hs-varid'>x</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span><span class='hs-layout'>)</span>
<a name="line-206"></a>                <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>x</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>cast</span> <span class='hs-varid'>x</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>show</span> <span class='hs-layout'>(</span><span class='hs-varid'>x</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>FilePath</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span>
<a name="line-207"></a>                <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>x</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>cast</span> <span class='hs-varid'>x</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>show</span> <span class='hs-layout'>(</span><span class='hs-varid'>x</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Assume</span><span class='hs-layout'>)</span>
<a name="line-208"></a>                <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>x</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>cast</span> <span class='hs-varid'>x</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>show</span> <span class='hs-layout'>(</span><span class='hs-varid'>x</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Lint</span><span class='hs-layout'>)</span>
<a name="line-209"></a>                <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>x</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>cast</span> <span class='hs-varid'>x</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>show</span> <span class='hs-layout'>(</span><span class='hs-varid'>x</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Double</span><span class='hs-layout'>)</span>
<a name="line-210"></a>                <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>x</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>cast</span> <span class='hs-varid'>x</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>show</span> <span class='hs-layout'>(</span><span class='hs-varid'>x</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-conid'>String</span><span class='hs-layout'>,</span><span class='hs-conid'>String</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span>
<a name="line-211"></a>                <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>x</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>cast</span> <span class='hs-varid'>x</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>show</span> <span class='hs-layout'>(</span><span class='hs-varid'>x</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Hidden</span> <span class='hs-layout'>(</span><span class='hs-conid'>IO</span> <span class='hs-conid'>Progress</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>IO</span> <span class='hs-conid'>()</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-212"></a>                <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>x</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>cast</span> <span class='hs-varid'>x</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>show</span> <span class='hs-layout'>(</span><span class='hs-varid'>x</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Hidden</span> <span class='hs-layout'>(</span><span class='hs-conid'>Verbosity</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>IO</span> <span class='hs-conid'>()</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-213"></a>                <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>x</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>cast</span> <span class='hs-varid'>x</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>show</span> <span class='hs-layout'>(</span><span class='hs-varid'>x</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Hidden</span> <span class='hs-layout'>(</span><span class='hs-conid'>HashMap</span><span class='hs-varop'>.</span><span class='hs-conid'>HashMap</span> <span class='hs-conid'>TypeRep</span> <span class='hs-conid'>Dynamic</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-214"></a>                <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>x</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>cast</span> <span class='hs-varid'>x</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>show</span> <span class='hs-layout'>(</span><span class='hs-varid'>x</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>CmdOption</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span>
<a name="line-215"></a>                <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>error</span> <span class='hs-varop'>$</span> <span class='hs-str'>"Error while showing ShakeOptions, missing alternative for "</span> <span class='hs-varop'>++</span> <span class='hs-varid'>show</span> <span class='hs-layout'>(</span><span class='hs-varid'>typeOf</span> <span class='hs-varid'>x</span><span class='hs-layout'>)</span>
<a name="line-216"></a>
<a name="line-217"></a>
<a name="line-218"></a><a name="Hidden"></a><span class='hs-comment'>-- | Internal type, copied from Hide in Uniplate</span>
<a name="line-219"></a><a name="Hidden"></a><span class='hs-keyword'>newtype</span> <span class='hs-conid'>Hidden</span> <span class='hs-varid'>a</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Hidden</span> <span class='hs-layout'>{</span><span class='hs-varid'>fromHidden</span> <span class='hs-keyglyph'>::</span> <span class='hs-varid'>a</span><span class='hs-layout'>}</span>
<a name="line-220"></a>    <span class='hs-keyword'>deriving</span> <span class='hs-conid'>Typeable</span>
<a name="line-221"></a>
<a name="line-222"></a><a name="instance%20Show%20(Hidden%20a)"></a><span class='hs-keyword'>instance</span> <span class='hs-conid'>Show</span> <span class='hs-layout'>(</span><span class='hs-conid'>Hidden</span> <span class='hs-varid'>a</span><span class='hs-layout'>)</span> <span class='hs-keyword'>where</span> <span class='hs-varid'>show</span> <span class='hs-keyword'>_</span> <span class='hs-keyglyph'>=</span> <span class='hs-str'>"&lt;hidden&gt;"</span>
<a name="line-223"></a>
<a name="line-224"></a><a name="instance%20Data%20(Hidden%20a)"></a><span class='hs-keyword'>instance</span> <span class='hs-conid'>Typeable</span> <span class='hs-varid'>a</span> <span class='hs-keyglyph'>=&gt;</span> <span class='hs-conid'>Data</span> <span class='hs-layout'>(</span><span class='hs-conid'>Hidden</span> <span class='hs-varid'>a</span><span class='hs-layout'>)</span> <span class='hs-keyword'>where</span>
<a name="line-225"></a>    <span class='hs-varid'>gfoldl</span> <span class='hs-varid'>k</span> <span class='hs-varid'>z</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>z</span>
<a name="line-226"></a>    <span class='hs-varid'>gunfold</span> <span class='hs-varid'>k</span> <span class='hs-varid'>z</span> <span class='hs-varid'>c</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>error</span> <span class='hs-str'>"Development.Shake.Types.ShakeProgress: gunfold not implemented - data type has no constructors"</span>
<a name="line-227"></a>    <span class='hs-varid'>toConstr</span> <span class='hs-keyword'>_</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>error</span> <span class='hs-str'>"Development.Shake.Types.ShakeProgress: toConstr not implemented - data type has no constructors"</span>
<a name="line-228"></a>    <span class='hs-varid'>dataTypeOf</span> <span class='hs-keyword'>_</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>tyHidden</span>
<a name="line-229"></a>
<a name="line-230"></a><a name="tyHidden"></a><span class='hs-definition'>tyHidden</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkDataType</span> <span class='hs-str'>"Development.Shake.Types.Hidden"</span> <span class='hs-conid'>[]</span>
<a name="line-231"></a>
<a name="line-232"></a>
<a name="line-233"></a><a name="Verbosity"></a><span class='hs-comment'>-- | The verbosity data type, used by 'shakeVerbosity'.</span>
<a name="line-234"></a><a name="Verbosity"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>Verbosity</span>
<a name="line-235"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Silent</span> <span class='hs-comment'>-- ^ Don't print any messages.</span>
<a name="line-236"></a>    <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Quiet</span>  <span class='hs-comment'>-- ^ Only print essential messages, typically errors.</span>
<a name="line-237"></a>    <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Normal</span> <span class='hs-comment'>-- ^ Print errors and @# /command-name/ (for /file-name/)@ when running a 'Development.Shake.traced' command.</span>
<a name="line-238"></a>    <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Loud</span>   <span class='hs-comment'>-- ^ Print errors and full command lines when running a 'Development.Shake.command' or 'Development.Shake.cmd' command.</span>
<a name="line-239"></a>    <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Chatty</span> <span class='hs-comment'>-- ^ Print errors, full command line and status messages when starting a rule.</span>
<a name="line-240"></a>    <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Diagnostic</span> <span class='hs-comment'>-- ^ Print messages for virtually everything (mostly for debugging).</span>
<a name="line-241"></a>      <span class='hs-keyword'>deriving</span> <span class='hs-layout'>(</span><span class='hs-conid'>Eq</span><span class='hs-layout'>,</span><span class='hs-conid'>Ord</span><span class='hs-layout'>,</span><span class='hs-conid'>Show</span><span class='hs-layout'>,</span><span class='hs-conid'>Read</span><span class='hs-layout'>,</span><span class='hs-conid'>Typeable</span><span class='hs-layout'>,</span><span class='hs-conid'>Data</span><span class='hs-layout'>,</span><span class='hs-conid'>Enum</span><span class='hs-layout'>,</span><span class='hs-conid'>Bounded</span><span class='hs-layout'>)</span>
<a name="line-242"></a>
<a name="line-243"></a><a name="EqualCost"></a><span class='hs-comment'>-- | An equality check and a cost.</span>
<a name="line-244"></a><a name="EqualCost"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>EqualCost</span>
<a name="line-245"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-conid'>EqualCheap</span> <span class='hs-comment'>-- ^ The equality check was cheap.</span>
<a name="line-246"></a>    <span class='hs-keyglyph'>|</span> <span class='hs-conid'>EqualExpensive</span> <span class='hs-comment'>-- ^ The equality check was expensive, as the results are not trivially equal.</span>
<a name="line-247"></a>    <span class='hs-keyglyph'>|</span> <span class='hs-conid'>NotEqual</span> <span class='hs-comment'>-- ^ The values are not equal.</span>
<a name="line-248"></a>      <span class='hs-keyword'>deriving</span> <span class='hs-layout'>(</span><span class='hs-conid'>Eq</span><span class='hs-layout'>,</span><span class='hs-conid'>Ord</span><span class='hs-layout'>,</span><span class='hs-conid'>Show</span><span class='hs-layout'>,</span><span class='hs-conid'>Read</span><span class='hs-layout'>,</span><span class='hs-conid'>Typeable</span><span class='hs-layout'>,</span><span class='hs-conid'>Data</span><span class='hs-layout'>,</span><span class='hs-conid'>Enum</span><span class='hs-layout'>,</span><span class='hs-conid'>Bounded</span><span class='hs-layout'>)</span>
</pre></body>
</html>
